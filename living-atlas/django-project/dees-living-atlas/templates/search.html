{% extends 'base.html' %}

{% block content %}

<div>
  <input type="checkbox" onclick="toggleRegEx()"><label>toggle regex search</label>
</div>



<div class="wrap-searchbox" name="lemma-search">
  <form method="get" action="">
    <!-- <span id="pointing-hand"> â˜ž </span>  -->
    <textarea type="text" name="q" placeholder="enter one word per line" cols="40" rows="5">{%if previous_query %}{{previous_query}}{%endif%}</textarea>
    <br>
    <input type="submit" value="submit list of values"/>
  </form>
</div>

{% if valid_search %}
<form method="post" action="/">
  {% csrf_token %}
  <div class="flex-container">

    <div class="results">
      <ol>
        <li class="list-title">lemmas</li>
        {% for lemma, forms in result_dict.items %}
        <li id="{{lemma}}" onclick="selectForms(this)">
          <input type="checkbox" id="checkbox-{{lemma}}" name="checkbox-{{lemma}}" value="{{lemma}}" onclick="lemmaToggleAll(this)">
          <label>{{lemma}}</label>
        </li>
        {% endfor %}
      </ol>
    </div>

    <div class="results">
      <ol>
        <li class="list-title">forms</li>
        {% for lemma, forms in result_dict.items %}
          {% for form in forms %}
          <li id="{{form}}" name="{{lemma}}-child" style="display:none">
            <input type="checkbox" name="checkbox-{{lemma}}-child" value="{{form}}">
            <label>{{form}}</label>
          </li>
          {% endfor %}
        {% endfor %}
      </ol>
    </div>
  </div>
  <button type="submit">continue to cartography</button>
</form>
{% endif %}

{% if valid_submission %}
<div class="flex-container">
  <ul class="results">
    {% for selection in selections %}
      <li>
        {{selection}}
      </li>      
    {% endfor %}
  </ul>
</div>

{% endif %}

{% endblock content %}

