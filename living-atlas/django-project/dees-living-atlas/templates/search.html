{% extends 'base.html' %}

{% block content %}

<script>
  function hideList(lemma) {
    var myList = document.getElementById(lemma);
    console.log(myList);
    console.log(myList[0]);
    myList.style.display = "none";
  }
</script>

<form method="get" action="">
  <span id="pointing-hand"> â˜ž </span> <input type="text" name="q" id="id_q" placeholder="enter query here" />
  <input type="submit" value="search" />
</form>

{% if search_results %}
<form method="post" action="/">
  {% csrf_token %}
  <div class="flex-container">
    <div class="results-box">
      {% comment %} This box contains the lemmas {% endcomment %}
      <ul>
        {% for lemma in found_lemmas %}
        <li onclick="hideList('{{lemma}}')">
          <input type="checkbox" class="lemma-ckbox" name="ckbox-{{lemma}}-base" value="{{lemma}}"
            onclick="togglecheckboxes('ckbox-{{lemma}}')" checked />
          <label>{{lemma}}</label>
        </li>
        {% endfor %}
      </ul>
    </div>
    <div class="results-box">
      {% comment %} This box contains the forms {% endcomment %}
      {% for lemma in found_lemmas %}
      <ul id="{{lemma}}">
        {% comment %} <span class="lemma"> {{lemma}} </span> {% endcomment %}
        {% for form in found_forms %}
        {% if form.lemma == lemma %}
        <li>
          <input type="checkbox" class="form-ckbox" name="ckbox-{{form.lemma}}" value="{{form.form}}" display="visible" checked />
          <label>{{form.form}}</label>
        </li>
        {% endif %}
        {% endfor %}
      </ul>
      {% endfor %}
    </div>
  </div>
  <br>
  <button type="submit">continue to geography</button>
</form>
</div>
{% endif %}


{% if selected_checkboxes %}
{% for selection in selected_checkboxes %}
{{ selection }}
{% endfor %}
{% endif %}

{% endblock content %}